<!--
If not stated otherwise in this file or this component's Licenses.txt file the
following copyright and licenses apply:
Copyright 2024 RDK Management
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<nav class="navbar navbar-expand-lg header">
  <div class="container-fluid">
    <a class="navbar-brand"></a>
    <img src="assets/logo/rdkLogo.png" alt="TDK_logo" class="logo-img img-fluid" /> <span class="apptitle">TDK Test
      Development Kit</span>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarText"
      aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarText">
    </div>
  </div>
</nav>

<div class="container-fluid">
  <div class="row">
    <div class="col">
      <div class="parent mt-4 mb-4">
        <div class="container container-box" id="container-box">
          <div class="form-container change-password">
            <h1 class="title">Change Password</h1>

            <form [formGroup]="changePasswordForm" (ngSubmit)="resetPassword()">
              <div class="row mb-2">
                <label for="username" class="col-md-3 col-form-label offset-1">User Name</label>
                <div class="col-md-7">
                  <input type="text" class="form-control" id="username" formControlName="username">
                  <div *ngIf="submitted && changePasswordForm.controls['username']?.errors" class="text-danger">
                    <small *ngIf="changePasswordForm.controls['username']?.errors?.['required']">Please enter user
                      name.</small>
                  </div>
                </div>
              </div>
              <div class="row mb-2">
                <label for="oldpassword" class="col-md-3 col-form-label offset-1">Old Password</label>
                <div class="col-md-7 position-relative">
                  <input class="form-control" id="oldpassword" [type]="showPasswordOnPress ? 'text' : 'password'"
                    formControlName="oldpassword">
                  <span class="eyeicon" (click)="viewPassword()">
                    <i [ngClass]="visible?'bi bi-eye-slash'  : 'bi bi-eye'"></i>
                  </span>
                  <div *ngIf="submitted && changePasswordForm.controls['oldpassword']?.errors" class="text-danger">
                    <small *ngIf="changePasswordForm.controls['oldpassword']?.errors?.['required']">Please enter old
                      password.</small>
                  </div>
                </div>
              </div>
              <div class="row mb-2">
                <label for="newpassword" class="col-md-3 col-form-label offset-1">New Password</label>
                <div class="col-md-7 position-relative">
                  <input type="password" class="form-control" id="newpassword"
                    [type]="showNewPasswordOnPress ? 'text' : 'password'" formControlName="newpassword">
                  <span class="eyeicon" (click)="viewNewPassword()">
                    <i [ngClass]="visible?'bi bi-eye-slash'  : 'bi bi-eye'"></i>
                  </span>
                  <div *ngIf="submitted && changePasswordForm.controls['newpassword']?.errors" class="text-danger">
                    <small *ngIf="changePasswordForm.controls['newpassword']?.errors?.['required']">Please enter new
                      password.</small>
                    <small *ngIf="changePasswordForm.controls['newpassword']?.errors?.['pattern']">Password should be at
                      least 8 characters long including letters, numbers, special characters, and a capital letter.
                    </small>
                  </div>
                </div>
              </div>
              <div class="row mb-2">
                <label for="confirmpassword" class="col-md-3 col-form-label offset-1">Confirm Password</label>
                <div class="col-md-7 position-relative">
                  <input type="password" class="form-control" id="confirmpassword"
                    [type]="showConfirmPasswordOnPress ? 'text' : 'password'" formControlName="confirmpassword">
                  <span class="eyeicon" (click)="viewConfirmPassword()">
                    <i [ngClass]="visible?'bi bi-eye-slash'  : 'bi bi-eye'"></i>
                  </span>
                  <div *ngIf="submitted && changePasswordForm.controls['confirmpassword']?.errors" class="text-danger">
                    <small *ngIf="changePasswordForm.controls['confirmpassword'].errors?.['required']">Please enter
                      confirm password.</small>
                    <small
                      *ngIf="changePasswordForm.controls['confirmpassword'].errors?.['passwordMatchValidator']">Password
                      didn't match</small>
                  </div>
                </div>
              </div>
              <div class="row" style="margin-bottom: 0.5rem;">
                <div class="mt-2 resetpwdbtn">
                  <a routerLink="/configure"><i class="bi bi-skip-backward-fill"></i> Back</a>
                  <button type="submit">Reset Password</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<app-footer></app-footer>