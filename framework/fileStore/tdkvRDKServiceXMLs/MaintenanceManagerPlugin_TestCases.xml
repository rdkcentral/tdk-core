<?xml version="1.0" encoding="UTF-8"?>
<!--
 If not stated otherwise in this file or this component's Licenses.txt file the
 following copyright and licenses apply:
 Copyright 2025 RDK Management
 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at
 http://www.apache.org/licenses/LICENSE-2.0
 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
-->
<testPlugin pluginName="MaintenanceManager" pluginVersion="1">
    <pluginPreRequisite>
      <!-- Activate MaintenanceManager plugin -->
      <prerequisite requisiteId="1" requisiteName="Activate_Plugin">
        <testStep testStepId="1" name="Check_PluginActive_Status" method="Get_Plugin_Status" saveResult="true" pluginName="Controller">
            <params>
              <param tag="plugin" value="org.rdk.MaintenanceManager" indexOnly="true" />
            </params>
            <resultGeneration useMethodTag="controller_get_plugin_state" arguments="check_status,org.rdk.MaintenanceManager" />
        </testStep>
        <testStep testStepId="2" name="Activate_Plugin" method="Activate_Plugin"  pluginName="Controller" >
            <conditionalExecution enable="true" Id="1" useMethodTag="controller_get_plugin_state" arguments="isDeactivated,org.rdk.MaintenanceManager" />
            <params>
              <param tag="callsign" value="org.rdk.MaintenanceManager" />
            </params>
        </testStep>
        <testStep testStepId="3" name="Check_PluginActive_Status" method="Get_Plugin_Status" pluginName="Controller"  >
            <conditionalExecution enable="true" Id="1" useMethodTag="controller_get_plugin_state" arguments="isDeactivated,org.rdk.MaintenanceManager" />
            <params>
              <param tag="plugin" value="org.rdk.MaintenanceManager" indexOnly="true" />
            </params>
            <resultGeneration useMethodTag="controller_get_plugin_state" arguments="check_status,org.rdk.MaintenanceManager" expectedValues="activated"/>
        </testStep>
      </prerequisite>

      <!-- Event Registration -->
      <prerequisite requisiteId="2" requisiteName="Register_And_Listen_Events" type="eventRegister" trace="false">
	      <event pluginName="MaintenanceManager" eventName="Event_On_Maintenance_StatusChange"/>
      	      <event pluginName="Controller" eventName="Event_Controller_State_Changed" />	      
      </prerequisite>
    </pluginPreRequisite>

    <!-- Test case 01 -->
    <testCase testCaseId="MM_01" testCaseName="MaintenanceManager_Get_MaintenanceActivity_Status" desc="Check the device fetches and displays the current status of a maintenance activity" >
	<testCaseInfo testCaseType="direct"/>
        <testStep testStepId="1" name="Get_MaintenanceActivity_Status" method="MaintenanceManager_Get_MaintenanceActivity_Status">
        	<resultGeneration useMethodTag="check_result_values"/>
        </testStep>
    </testCase>

    <!-- Test case 02 -->
    <testCase testCaseId="MM_02" testCaseName="MaintenanceManager_Get_Maintenance_Mode" desc="Check if the current maintenance mode and software upgrade opt-out mode can be retrieved from the stored location">
        <testCaseInfo testCaseType="direct"/>
        <testStep testStepId="1" name="Get_Maintenance_Mode" method="MaintenanceManager_Get_Maintenance_Mode">
                <resultGeneration useMethodTag="check_result_values"/>
        </testStep>
    </testCase>

    <!-- Test case 03 -->
    <testCase testCaseId="MM_03" testCaseName="MaintenanceManager_Start_Stop_Maintenance" desc="Check if the start and stop maintenance methods were successful or not" >
        <testCaseInfo testCaseType="direct"/>
	<testCasePreRequisite>
	<prerequisite requisiteId="1" requisiteName="Stop_Maintenance_If_Started">
	<testStep testStepId="1" name="Get_MaintenanceActivity_Status" method="MaintenanceManager_Get_MaintenanceActivity_Status" saveResult="true">
                <resultGeneration useMethodTag="check_result_values"/>
	</testStep>
	<testStep testStepId="2" name="Stop_Maintenance" method="MaintenanceManager_Stop_Maintenance">
		<conditionalExecution enable="true" Id="1" useMethodTag="maintenancemanager_get_maintenance_status" arguments="MAINTENANCE_STARTED"/>
                <resultGeneration useMethodTag="success_status_validation"/>
	</testStep>
	</prerequisite>
	</testCasePreRequisite>

	<testStep testStepId="1" name="Start_Maintenance" method="MaintenanceManager_Start_Maintenance" delay="3">
                <resultGeneration useMethodTag="success_status_validation"/>
	</testStep>
	<testStep testStepId="2" name="Stop_Maintenance" method="MaintenanceManager_Stop_Maintenance" delay="3">
                <resultGeneration useMethodTag="success_status_validation"/>
        </testStep>
    </testCase>

    <!-- Test case 04 -->
    <testCase testCaseId="MM_04" testCaseName="MaintenanceManager_Check_On_Maintenance_StatusChange_Event" desc="Check if the event is triggered when there is a change in the maintenance state">
        <testCaseInfo testCaseType="direct"/>
        <testCasePreRequisite>
        <prerequisite requisiteId="1" requisiteName="Stop_Maintenance_If_Started">
        <testStep testStepId="1" name="Get_MaintenanceActivity_Status" method="MaintenanceManager_Get_MaintenanceActivity_Status" saveResult="true">
                <resultGeneration useMethodTag="check_result_values"/>
        </testStep>
        <testStep testStepId="2" name="Stop_Maintenance" method="MaintenanceManager_Stop_Maintenance">
                <conditionalExecution enable="true" Id="1" useMethodTag="maintenancemanager_get_maintenance_status" arguments="MAINTENANCE_STARTED"/>
                <resultGeneration useMethodTag="success_status_validation"/>
        </testStep>
        </prerequisite>
        </testCasePreRequisite>

        <testStep testStepId="1" name="Start_Maintenance" method="MaintenanceManager_Start_Maintenance" delay="3">
                <resultGeneration useMethodTag="success_status_validation"/>
	</testStep>
	<testStep testStepId="2" name="Check_On_Maintenance_StatusChange_Event" event="Event_On_Maintenance_StatusChange" action="eventListener" delay="3">
		<resultGeneration useMethodTag="maintenancemanager_check_maintenancestatechange_event" expectedValues="MAINTENANCE_STARTED"/>
        </testStep>
        <testStep testStepId="3" name="Stop_Maintenance" method="MaintenanceManager_Stop_Maintenance" delay="3">
                <resultGeneration useMethodTag="success_status_validation"/>
        </testStep>
    </testCase>

    <!-- Test case 05 -->
    <testCase testCaseId="MM_05" testCaseName="MaintenanceManager_Check_Start_Maintenance_Twice" desc="Check start maintenance API returns success status as false when called twice simultaneously">
        <testCaseInfo testCaseType="direct"/>
        <testCasePreRequisite>
        <prerequisite requisiteId="1" requisiteName="Stop_Maintenance_If_Started">
        <testStep testStepId="1" name="Get_MaintenanceActivity_Status" method="MaintenanceManager_Get_MaintenanceActivity_Status" saveResult="true">
                <resultGeneration useMethodTag="check_result_values"/>
        </testStep>
        <testStep testStepId="2" name="Stop_Maintenance" method="MaintenanceManager_Stop_Maintenance">
                <conditionalExecution enable="true" Id="1" useMethodTag="maintenancemanager_get_maintenance_status" arguments="MAINTENANCE_STARTED"/>
                <resultGeneration useMethodTag="success_status_validation"/>
        </testStep>
        </prerequisite>
        </testCasePreRequisite>

        <testStep testStepId="1" name="Start_Maintenance" method="MaintenanceManager_Start_Maintenance" delay="3">
                <resultGeneration useMethodTag="success_status_validation"/>
	</testStep>
	<testStep testStepId="2" name="Start_Maintenance" method="MaintenanceManager_Start_Maintenance" delay="3">
                <resultGeneration useMethodTag="success_negative_status_validation"/>
	</testStep>
    </testCase>

    <!-- Test case 06 -->
    <testCase testCaseId="MM_06" testCaseName="MaintenanceManager_Activate_Deactivate_Event_Test" desc="Validates statechange event on Activating and deactivating the plugin">
             <testCaseInfo testCaseType="direct" />
             <testCasePreRequisite>
                 <prerequisite requisiteId="1" requisiteName="Activate_Plugins">
                   <testStep testStepId="1" name="Check_PluginActive_Status" method="Get_Plugin_Status" saveResult="true" pluginName="Controller">
                     <params>
                       <param tag="plugin" value="org.rdk.MaintenanceManager" indexOnly="true" />
                     </params>
                     <resultGeneration useMethodTag="controller_get_plugin_state" arguments="check_status,org.rdk.MaintenanceManager" />
                   </testStep>
                   <testStep testStepId="2" name="Activate_Plugin" method="Activate_Plugin"  pluginName="Controller" >
                     <conditionalExecution enable="true" Id="1" useMethodTag="controller_get_plugin_state" arguments="isDeactivated,org.rdk.MaintenanceManager" />
                     <params>
                       <param tag="callsign" value="org.rdk.MaintenanceManager" />
                     </params>
                   </testStep>
                   <testStep testStepId="3" name="Check_PluginActive_Status" method="Get_Plugin_Status" pluginName="Controller"  >
                     <conditionalExecution enable="true" Id="1" useMethodTag="controller_get_plugin_state" arguments="isDeactivated,org.rdk.MaintenanceManager" />
                     <params>
                       <param tag="plugin" value="org.rdk.MaintenanceManager" indexOnly="true" />
                     </params>
                     <resultGeneration useMethodTag="controller_get_plugin_state" arguments="check_status,org.rdk.MaintenanceManager" expectedValues="activated"/>
                   </testStep>
                </prerequisite>
            </testCasePreRequisite>
	    
	    <testStep testStepId="1" name="Deactivate_MaintenanceManager_Plugin" method="Deactivate_Plugin"  pluginName="Controller">
                  <params>
                    <param tag="callsign"  value="org.rdk.MaintenanceManager" />
                  </params>
            </testStep>
            <testStep testStepId="2" name="Check_State_Change_Event" event="Event_Controller_State_Changed" action="eventListener" delay="2" pluginName="Controller">
              <resultGeneration useMethodTag="controller_check_state_change_event" expectedValues="org.rdk.maintenancemanager,deactivated,requested"/>
            </testStep>
            <testStep testStepId="3" name="Check_PluginActive_Status" method="Get_Plugin_Status" pluginName="Controller"  >
                 <params>
                     <param tag="plugin" value="org.rdk.MaintenanceManager" indexOnly="true" />
                 </params>
                 <resultGeneration useMethodTag="controller_get_plugin_state" arguments="check_status,org.rdk.MaintenanceManager" expectedValues="deactivated"/>
            </testStep>
            <testStep testStepId="4" name="Activate_MaintenanceManager_Plugin" method="Activate_Plugin"  pluginName="Controller" delay="1">
                  <params>
                    <param tag="callsign" value="org.rdk.MaintenanceManager" />
                  </params>
            </testStep>
            <testStep testStepId="5" name="Check_State_Change_Event" event="Event_Controller_State_Changed" action="eventListener" delay="2" pluginName="Controller">
              <resultGeneration useMethodTag="controller_check_state_change_event" expectedValues="org.rdk.maintenancemanager,activated,requested"/>
            </testStep>
            <testStep testStepId="6" name="Check_PluginActive_Status" method="Get_Plugin_Status" pluginName="Controller" PluginOnStep="yes" >
                 <params>
                     <param tag="plugin" value="org.rdk.MaintenanceManager" indexOnly="true" />
                 </params>
                 <resultGeneration useMethodTag="controller_get_plugin_state" arguments="check_status,org.rdk.MaintenanceManager" expectedValues="activated"/>
            </testStep>
    </testCase>

    <!-- Test case 07 -->
    <testCase testCaseId="MM_07" testCaseName="MaintenanceManager_Check_MaintenanceActivity_Status" desc="Check the status of maintenance activity after initiating the start maintenance API">
        <testCaseInfo testCaseType="direct"/>
        <testCasePreRequisite>
        <prerequisite requisiteId="1" requisiteName="Stop_Maintenance_If_Started">
        <testStep testStepId="1" name="Get_MaintenanceActivity_Status" method="MaintenanceManager_Get_MaintenanceActivity_Status" saveResult="true">
                <resultGeneration useMethodTag="check_result_values"/>
        </testStep>
        <testStep testStepId="2" name="Stop_Maintenance" method="MaintenanceManager_Stop_Maintenance">
                <conditionalExecution enable="true" Id="1" useMethodTag="maintenancemanager_get_maintenance_status" arguments="MAINTENANCE_STARTED"/>
                <resultGeneration useMethodTag="success_status_validation"/>
        </testStep>
        </prerequisite>
        </testCasePreRequisite>

        <testStep testStepId="1" name="Start_Maintenance" method="MaintenanceManager_Start_Maintenance" delay="3">
                <resultGeneration useMethodTag="success_status_validation"/>
	</testStep>
	<testStep testStepId="2" name="Check_MaintenanceActivity_Status" method="MaintenanceManager_Get_MaintenanceActivity_Status">
                <resultGeneration useMethodTag="check_maintenance_activity_status" expectedValues="MAINTENANCE_STARTED"/>
        </testStep>
    </testCase>

    <!-- Test case 08 -->
    <testCase testCaseId="MM_08" testCaseName="MaintenanceManager_Set_MaintenanceMode_With_Invalid_Parameters" desc="Check if the SetMaintenanceMode method returns an error when invalid parameters are provided">
        <testCaseInfo testCaseType="direct"/>
        <testStep testStepId="1" name="Set_MaintenanceMode_With_Invalid_Parameters" method="MaintenanceManager_Set_Maintenance_Mode">
		<params>
			<param tag="maintenanceMode"  value="test" />
			<param tag="optOut"  value="test" />
                </params>
		<resultGeneration useMethodTag="success_negative_status_validation"/>
        </testStep>
    </testCase>

    <!-- Test case 09 -->
    <testCase testCaseId="MM_09" testCaseName="MaintenanceManager_Set_MaintenanceMode_With_Empty_Parameters" desc="Check if the SetMaintenanceMode method returns an error when empty parameters are provided">
        <testCaseInfo testCaseType="direct"/>
        <testStep testStepId="1" name="Set_MaintenanceMode_With_Empty_Parameters" method="MaintenanceManager_Set_Maintenance_Mode">
                <params>
                        <param tag="maintenanceMode"  value="" />
                        <param tag="optOut"  value="" />
                </params>
                <resultGeneration useMethodTag="success_negative_status_validation"/>
        </testStep>
    </testCase>

    <!-- Test case 10 -->
    <testCase testCaseId="MM_10" testCaseName="MaintenanceManager_Set_Invalid_Optout" desc="Check if the SetMaintenanceMode method returns an error when invalid optOut parameter is provided">
        <testCaseInfo testCaseType="direct"/>
        <testStep testStepId="1" name="Set_Invalid_Optout" method="MaintenanceManager_Set_Maintenance_Mode">
                <params>
                        <param tag="maintenanceMode"  value="BACKGROUND" />
                        <param tag="optOut"  value="test" />
                </params>
                <resultGeneration useMethodTag="success_negative_status_validation"/>
        </testStep>
    </testCase>

    <!-- Test case 11 -->
    <testCase testCaseId="MM_11" testCaseName="MaintenanceManager_Set_Invalid_Maintenancemode" desc="Check if the SetMaintenanceMode method returns an error when invalid maintenancemode parameter is provided">
        <testCaseInfo testCaseType="direct"/>
        <testStep testStepId="1" name="Set_Invalid_Maintenancemode" method="MaintenanceManager_Set_Maintenance_Mode">
                <params>
                        <param tag="maintenanceMode"  value="test" />
                        <param tag="optOut"  value="NONE" />
                </params>
                <resultGeneration useMethodTag="success_negative_status_validation"/>
        </testStep>
    </testCase>

    <!-- Test case 12 -->
    <testCase testCaseId="MM_12" testCaseName="MaintenanceManager_Set_MaintenanceMode_Without_Parameters" desc="Check if the SetMaintenanceMode method returns an error when parameters are not provided">
        <testCaseInfo testCaseType="direct"/>
        <testStep testStepId="1" name="Set_MaintenanceMode_Without_Parameters" method="MaintenanceManager_Set_Maintenance_Mode">
                <resultGeneration useMethodTag="success_negative_status_validation"/>
        </testStep>
    </testCase>

    <!-- Test case 13 -->
    <testCase testCaseId="MM_13" testCaseName="MaintenanceManager_Background_OptOutModes_Test" desc="Check the ability to set and retrieve the maintenance mode as 'Background' and the software upgrade opt-out modes (NONE, ENFORCE_OPTOUT, BYPASS_OPTOUT, IGNORE_UPDATE)">
        <testCaseInfo testCaseType="loop"/>
        <testStep testStepId="1" name="Get_Maintenance_Optout_Mode" method="MaintenanceManager_Get_Maintenance_Mode">
                <resultGeneration useMethodTag="check_result_values"/>
	</testStep>
	<testStep testStepId="2" name="Set_Get_Maintenance_OptoutMode" testStepType="loop">
		<subtestStep subtestStepId="1" name="Set_Maintenance_Optout_Mode" method="MaintenanceManager_Set_Maintenance_Mode">
			<params>
                        	<param tag="maintenanceMode"  value="BACKGROUND"/>
                        	<param tag="optOut" useConfigFile="true" key="MAINTENANCEMANAGER_OPTOUT_MODES" iteration="true"/>
                	</params>
                	<resultGeneration useMethodTag="success_status_validation"/>
        	</subtestStep>
		<subtestStep subtestStepId="2" name="Get_Maintenance_Optout_Mode" method="MaintenanceManager_Get_Maintenance_Mode">
			<resultGeneration useMethodTag="get_maintenance_optout_mode">
				<expectedValues value= "BACKGROUND" useIterableValue="true" />
			</resultGeneration>
		</subtestStep>
	</testStep>
    </testCase>

    <!-- Test case 14 -->
    <testCase testCaseId="MM_14" testCaseName="MaintenanceManager_Foreground_OptOutModes_Test" desc="Check the ability to set and retrieve the maintenance mode as 'Foreground' and the software upgrade opt-out modes (NONE, ENFORCE_OPTOUT, BYPASS_OPTOUT, IGNORE_UPDATE)">
        <testCaseInfo testCaseType="loop"/>
        <testStep testStepId="1" name="Get_Maintenance_Optout_Mode" method="MaintenanceManager_Get_Maintenance_Mode">
                <resultGeneration useMethodTag="check_result_values"/>
        </testStep>
        <testStep testStepId="2" name="Set_Get_Maintenance_Optout_Mode" testStepType="loop">
                <subtestStep subtestStepId="1" name="Set_Maintenance_Optout_Mode" method="MaintenanceManager_Set_Maintenance_Mode">
                        <params>
                                <param tag="maintenanceMode"  value="FOREGROUND"/>
                                <param tag="optOut" useConfigFile="true" key="MAINTENANCEMANAGER_OPTOUT_MODES" iteration="true"/>
                        </params>
                        <resultGeneration useMethodTag="success_status_validation"/>
                </subtestStep>
                <subtestStep subtestStepId="2" name="Get_Maintenance_Optout_Mode" method="MaintenanceManager_Get_Maintenance_Mode">
                        <resultGeneration useMethodTag="get_maintenance_optout_mode">
                                <expectedValues value= "FOREGROUND" useIterableValue="true" />
                        </resultGeneration>
                </subtestStep>
        </testStep>
    </testCase>

    <!-- Test case 15 -->
    <testCase testCaseId="MM_15" testCaseName="MaintenanceManager_Set_MaintenanceMode_Parameter_Only" desc="Check that the SetMaintenanceMode method returns an error when only the maintenancemode parameter is provided">
        <testCaseInfo testCaseType="direct"/>
        <testStep testStepId="1" name="Set_MaintenanceMode_Parameter_Only" method="MaintenanceManager_Set_Maintenance_Mode">
                <params>
                        <param tag="maintenanceMode"  value="FOREGROUND" />
                </params>
                <resultGeneration useMethodTag="success_negative_status_validation"/>
        </testStep>
    </testCase>

    <!-- Test case 16 -->
    <testCase testCaseId="MM_16" testCaseName="MaintenanceManager_Set_Optout_Parameter_Only" desc="Check that the SetMaintenanceMode method returns an error when only the optoutmode parameter is provided">
        <testCaseInfo testCaseType="direct"/>
        <testStep testStepId="1" name="Set_Optout_Parameter_Only" method="MaintenanceManager_Set_Maintenance_Mode">
                <params>
                        <param tag="optOut"  value="NONE" />
                </params>
                <resultGeneration useMethodTag="success_negative_status_validation"/>
        </testStep>
    </testCase>

    <!-- Test case 17 -->
    <testCase testCaseId="MM_17" testCaseName="MaintenanceManager_Set_Empty_Maintenancemode" desc="Check if the SetMaintenanceMode method returns an error when empty maintenancemode parameter is provided">
        <testCaseInfo testCaseType="direct"/>
        <testStep testStepId="1" name="Set_Empty_Maintenancemode" method="MaintenanceManager_Set_Maintenance_Mode">
                <params>
                        <param tag="maintenanceMode"  value="" />
                        <param tag="optOut"  value="NONE" />
                </params>
                <resultGeneration useMethodTag="success_negative_status_validation"/>
        </testStep>
    </testCase>

    <!-- Test case 18 -->
    <testCase testCaseId="MM_18" testCaseName="MaintenanceManager_Set_Empty_Optoutmode" desc="Check if the SetMaintenanceMode method returns an error when empty optoutmode parameter is provided">
        <testCaseInfo testCaseType="direct"/>
        <testStep testStepId="1" name="Set_Empty_Optoutmode" method="MaintenanceManager_Set_Maintenance_Mode">
                <params>
                        <param tag="maintenanceMode"  value="FOREGROUND" />
                        <param tag="optOut"  value="" />
                </params>
                <resultGeneration useMethodTag="success_negative_status_validation"/>
        </testStep>
    </testCase>

    <!-- Test case 19 -->
    <testCase testCaseId="MM_19" testCaseName="MaintenanceManager_Check_Get_MaintenanceActivity_Status_Error"  desc="Check if the getMaintenanceActivityStatus method returns an error when the plugin is in a deactivated state">
        <testCaseInfo testCaseType="direct"/>
        <testCasePreRequisite>
                <prerequisite requisiteId="1" requisiteName="Deactivate_Plugin">
                   <testStep testStepId="1" name="Check_PluginActive_Status" method="Get_Plugin_Status" saveResult="true" pluginName="Controller">
                     <params>
                       <param tag="plugin" value="org.rdk.MaintenanceManager" indexOnly="true" />
                     </params>
                     <resultGeneration useMethodTag="controller_get_plugin_state" arguments="check_status,org.rdk.MaintenanceManager" />
                   </testStep>
                   <testStep testStepId="2" name="Deactivate_Plugin" method="Deactivate_Plugin"  pluginName="Controller" >
                     <conditionalExecution enable="true" Id="1" useMethodTag="controller_get_plugin_state" arguments="isActivated,org.rdk.MaintenanceManager" />
                     <params>
                       <param tag="callsign" value="org.rdk.MaintenanceManager" />
                     </params>
                   </testStep>
                   <testStep testStepId="3" name="Check_PluginActive_Status" method="Get_Plugin_Status" pluginName="Controller"  >
                     <conditionalExecution enable="true" Id="1" useMethodTag="controller_get_plugin_state" arguments="isActivated,org.rdk.MaintenanceManager" />
                     <params>
                       <param tag="plugin" value="org.rdk.MaintenanceManager" indexOnly="true" />
                     </params>
                     <resultGeneration useMethodTag="controller_get_plugin_state" arguments="check_status,org.rdk.MaintenanceManager" expectedValues="deactivated"/>
                   </testStep>
                </prerequisite>
	</testCasePreRequisite>

        <testStep testStepId="1" name="Check_Get_MaintenanceActivity_Status_API_Response" method="MaintenanceManager_Get_MaintenanceActivity_Status" PluginOnStep="yes">
                <resultGeneration useMethodTag="controller_check_error_message">
                     <expectedValues value="ERROR_UNAVAILABLE,The service is in an illegal state!!!."/>
                     <arguments value="deactivate_check_error_message"/>
                </resultGeneration>
        </testStep>
    </testCase>

    <!-- Test case 20 -->
    <testCase testCaseId="MM_20" testCaseName="MaintenanceManager_Check_Get_Maintenance_StartTime_Error"  desc="Check if the getMaintenanceStartTime method returns an error when the plugin is in a deactivated state">
        <testCaseInfo testCaseType="direct"/>
        <testCasePreRequisite>
                <prerequisite requisiteId="1" requisiteName="Deactivate_Plugin">
                   <testStep testStepId="1" name="Check_PluginActive_Status" method="Get_Plugin_Status" saveResult="true" pluginName="Controller">
                     <params>
                       <param tag="plugin" value="org.rdk.MaintenanceManager" indexOnly="true" />
                     </params>
                     <resultGeneration useMethodTag="controller_get_plugin_state" arguments="check_status,org.rdk.MaintenanceManager" />
                   </testStep>
                   <testStep testStepId="2" name="Deactivate_Plugin" method="Deactivate_Plugin"  pluginName="Controller" >
                     <conditionalExecution enable="true" Id="1" useMethodTag="controller_get_plugin_state" arguments="isActivated,org.rdk.MaintenanceManager" />
                     <params>
                       <param tag="callsign" value="org.rdk.MaintenanceManager" />
                     </params>
                   </testStep>
                   <testStep testStepId="3" name="Check_PluginActive_Status" method="Get_Plugin_Status" pluginName="Controller"  >
                     <conditionalExecution enable="true" Id="1" useMethodTag="controller_get_plugin_state" arguments="isActivated,org.rdk.MaintenanceManager" />
                     <params>
                       <param tag="plugin" value="org.rdk.MaintenanceManager" indexOnly="true" />
                     </params>
                     <resultGeneration useMethodTag="controller_get_plugin_state" arguments="check_status,org.rdk.MaintenanceManager" expectedValues="deactivated"/>
                   </testStep>
                </prerequisite>
        </testCasePreRequisite>

        <testStep testStepId="1" name="Check_Get_Maintenance_StartTime_API_Response" method="MaintenanceManager_Get_Maintenance_StartTime" PluginOnStep="yes">
                <resultGeneration useMethodTag="controller_check_error_message">
                     <expectedValues value="ERROR_UNAVAILABLE,The service is in an illegal state!!!."/>
                     <arguments value="deactivate_check_error_message"/>
	     	</resultGeneration>
	</testStep>
    </testCase>

    <!-- Test case 21 -->
    <testCase testCaseId="MM_21" testCaseName="MaintenanceManager_Set_Foreground_MaintenanceMode_with_Invalid_OptOut" desc="Check if the SetMaintenanceMode method returns an error when maintenancemode as foreground and invalid optOut parameter is provided">
        <testCaseInfo testCaseType="direct"/>
        <testStep testStepId="1" name="Set_Foreground_MaintenanceMode_with_Invalid_OptOut" method="MaintenanceManager_Set_Maintenance_Mode">
            <params>
                <param tag="maintenanceMode"  value="FOREGROUND" />
                <param tag="optOut"  value="INVALID_OPTOUT" />
            </params>
            <resultGeneration useMethodTag="success_negative_status_validation"/>
        </testStep>
    </testCase>

    <!-- Test case 22 -->
    <testCase testCaseId="MM_22" testCaseName="MaintenanceManager_Set_Background_MaintenanceMode_with_Empty_OptOut" desc="Check if the SetMaintenanceMode method returns an error when maintenancemode as background and empty optOut parameter is provided">
        <testCaseInfo testCaseType="direct"/>
        <testStep testStepId="1" name="Set_Background_MaintenanceMode_with_Empty_OptOut" method="MaintenanceManager_Set_Maintenance_Mode">
            <params>
                <param tag="maintenanceMode"  value="BACKGROUND" />
                <param tag="optOut"  value="" />
            </params>
            <resultGeneration useMethodTag="success_negative_status_validation"/>
        </testStep>
    </testCase>

    <!-- Test case 23 -->
    <testCase testCaseId="MM_23" testCaseName="MaintenanceManager_Set_Specialchars_MaintenanceMode_with_BYPASS_OPTOUT" desc="Check if the SetMaintenanceMode method returns an error when Maintenancemode as special character and with OptOut parameter as BYPASS_OPTOUT">
        <testCaseInfo testCaseType="direct"/>
        <testStep testStepId="1" name="Set_Specialchars_MaintenanceMode_with_BYPASS_OPTOUT" method="MaintenanceManager_Set_Maintenance_Mode">
            <params>
                <param tag="maintenanceMode"  value="@" />
                <param tag="optOut"  value="BYPASS_OPTOUT" />
            </params>
            <resultGeneration useMethodTag="success_negative_status_validation"/>
        </testStep>
    </testCase>

    <!-- Test case 24 -->
    <testCase testCaseId="MM_24" testCaseName="MaintenanceManager_Check_Stop_Maintenance_Error"  desc="Check if the stop maintenance methods returns an error when the plugin is in a deactivated state">
        <testCaseInfo testCaseType="direct"/>
        <testCasePreRequisite>
            <prerequisite requisiteId="1" requisiteName="Deactivate_Plugin">
                <testStep testStepId="1" name="Check_PluginActive_Status" method="Get_Plugin_Status" saveResult="true" pluginName="Controller">
                    <params>
                        <param tag="plugin" value="org.rdk.MaintenanceManager" indexOnly="true" />
                    </params>
                    <resultGeneration useMethodTag="controller_get_plugin_state" arguments="check_status,org.rdk.MaintenanceManager" />
                </testStep>
                <testStep testStepId="2" name="Deactivate_Plugin" method="Deactivate_Plugin"  pluginName="Controller">
                    <conditionalExecution enable="true" Id="1" useMethodTag="controller_get_plugin_state" arguments="isActivated,org.rdk.MaintenanceManager" />
                    <params>
                        <param tag="callsign" value="org.rdk.MaintenanceManager" />
                    </params>
                </testStep>
                <testStep testStepId="3" name="Check_PluginActive_Status" method="Get_Plugin_Status" pluginName="Controller">
                    <conditionalExecution enable="true" Id="1" useMethodTag="controller_get_plugin_state" arguments="isActivated,org.rdk.MaintenanceManager" />
                    <params>
                        <param tag="plugin" value="org.rdk.MaintenanceManager" indexOnly="true" />
                    </params>
                    <resultGeneration useMethodTag="controller_get_plugin_state" arguments="check_status,org.rdk.MaintenanceManager" expectedValues="deactivated"/>
                </testStep>
            </prerequisite>
        </testCasePreRequisite>
	
	<testStep testStepId="1" name="Check_Stop_Maintenance_API_Response" method="MaintenanceManager_Stop_Maintenance" PluginOnStep="yes">
            <resultGeneration useMethodTag="controller_check_error_message">
                <expectedValues value="ERROR_UNAVAILABLE,The service is in an illegal state!!!."/>
                <arguments value="deactivate_check_error_message"/>
            </resultGeneration>
        </testStep>
    </testCase>

    <!-- Test case 25 -->
    <testCase testCaseId="MM_25" testCaseName="MaintenanceManager_Set_Numeric_MaintenanceMode_with_None_OptOut" desc="Check if the SetMaintenanceMode method returns an error when the MaintenanceMode is set to a numeric value (123) and the OptOut parameter is none">
        <testCaseInfo testCaseType="direct"/>
        <testStep testStepId="1" name="Set_Numeric_MaintenanceMode_with_None_OptOut" method="MaintenanceManager_Set_Maintenance_Mode_Negative_MaintenanceMode">
            <params>
                <param tag="maintenanceMode"  value="123" />
                <param tag="optOut"  value="NONE" />
            </params>
            <resultGeneration useMethodTag="success_negative_status_validation"/>
        </testStep>
    </testCase>

    <!-- Test case 26 -->
    <testCase testCaseId="MM_26" testCaseName="MaintenanceManager_Set_Foreground_MaintenanceMode_with_Numeric_OptOut" desc="Check if the SetMaintenanceMode method returns an error when maintenancemode as foreground and invalid optOut parameter is provided">
        <testCaseInfo testCaseType="direct"/>
        <testStep testStepId="1" name="Set_Foreground_MaintenanceMode_with_Numeric_OptOut" method="MaintenanceManager_Set_Maintenance_Mode_Negative_OptOut">
            <params>
                <param tag="maintenanceMode"  value="FOREGROUND" />
                <param tag="optOut"  value="456" />
            </params>
            <resultGeneration useMethodTag="success_negative_status_validation"/>
        </testStep>
    </testCase>

    <!-- Test case 27 -->
    <testCase testCaseId="MM_27" testCaseName="MaintenanceManager_Set_Specialchars_MaintenanceMode_with_ENFORCE_OPTOUT_OptOut" desc="Check if the SetMaintenanceMode method returns an error when Maintenancemode set as special character and with OptOut parameter set as ENFORCE_OPTOUT">
        <testCaseInfo testCaseType="direct"/>
        <testStep testStepId="1" name="Set_Specialchars_MaintenanceMode_with_ENFORCE_OPTOUT_OptOut" method="MaintenanceManager_Set_Maintenance_Mode">
            <params>
                <param tag="maintenanceMode"  value="@" />
                <param tag="optOut"  value="ENFORCE_OPTOUT" />
            </params>
            <resultGeneration useMethodTag="success_negative_status_validation"/>
        </testStep>
    </testCase>

    <!-- Test case 28 -->
    <testCase testCaseId="MM_28" testCaseName="MaintenanceManager_Set_Specialchars_MaintenanceMode_with_None_OptOut" desc="Check if the SetMaintenanceMode method returns an error when the MaintenanceMode contains special characters and the OptOut parameter is none">
        <testCaseInfo testCaseType="direct"/>
        <testStep testStepId="1" name="Set_Specialchars_MaintenanceMode_with_None_OptOut" method="MaintenanceManager_Set_Maintenance_Mode">
            <params>
                <param tag="maintenanceMode"  value="@#$%^*()" />
                <param tag="optOut"  value="NONE" />
            </params>
            <resultGeneration useMethodTag="success_negative_status_validation"/>
        </testStep>
    </testCase>

    <!-- Test case 29 -->
    <testCase testCaseId="MM_29" testCaseName="MaintenanceManager_Set_Foreground_MaintenanceMode_with_Specialchars_OptOut" desc="Check if the SetMaintenanceMode method returns an error when the OptOut parameter contains special characters while the MaintenanceMode is foreground">
        <testCaseInfo testCaseType="direct"/>
        <testStep testStepId="1" name="Set_Foreground_MaintenanceMode_with_Specialchars_OptOut" method="MaintenanceManager_Set_Maintenance_Mode">
            <params>
                <param tag="maintenanceMode"  value="FOREGROUND" />
                <param tag="optOut"  value="@#$%^*()" />
            </params>
            <resultGeneration useMethodTag="success_negative_status_validation"/>
        </testStep>
    </testCase>
</testPlugin>
